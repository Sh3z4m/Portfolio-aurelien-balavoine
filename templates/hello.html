<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Portfolio Scroll</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>

<div class="container">
<section class="intro">
  <div class="image-box">
    <img src="{{ url_for('static', filename='images/ubalavoine-left-rogned.jpeg') }}" alt="Image Intro">
  </div>
  <div class="content-box">
    <h1>Aurélien Balavoine</h1>
    <p style="font-size: 10px;">Administrateur Systèmes & Réseaux | Auto-Entrepreneur</p>
  </div>
  <div class="arrow">&#x2193;</div> <!-- flèche vers le bas -->
</section>

  <section class="about">
    <h1>À propos</h1>
  </section>

  <section class="projects">
    <h1>Projets</h1>
  </section>

  <section class="skills">
    <h1>Compétences</h1>
  </section>

  <section class="contact">
    <h1>Contact</h1>
  </section>
</div>

<script>
  const sections = document.querySelectorAll('section');
  let isScrolling = false;

  let currentSectionIndex = 0;

  window.addEventListener('wheel', (e) => {
    if (isScrolling) return;

    if (e.deltaY > 0 && currentSectionIndex < sections.length - 1) {
      currentSectionIndex++;
    } else if (e.deltaY < 0 && currentSectionIndex > 0) {
      currentSectionIndex--;
    } else {
      return;
    }

    isScrolling = true;
    sections[currentSectionIndex].scrollIntoView({ behavior: 'smooth' });

    setTimeout(() => {
      isScrolling = false;
    }, 1200); // Durée du scroll (ralenti)
  }, { passive: false });
</script>

<script>
  const sections = document.querySelectorAll('section');
  let currentSectionIndex = 0;
  let isScrolling = false;

  function showArrowDelayed(section) {
    const arrow = section.querySelector('.arrow');
    if (!arrow) return;
    arrow.classList.remove('visible');
    setTimeout(() => {
      arrow.classList.add('visible');
    }, 2000); // 2 secondes
  }

  window.addEventListener('wheel', (e) => {
    if (isScrolling) return;

    if (e.deltaY > 0 && currentSectionIndex < sections.length - 1) {
      currentSectionIndex++;
    } else if (e.deltaY < 0 && currentSectionIndex > 0) {
      currentSectionIndex--;
    } else {
      return;
    }

    isScrolling = true;

    const targetSection = sections[currentSectionIndex];
    targetSection.scrollIntoView({ behavior: 'smooth' });

    // Masquer toutes les flèches
    document.querySelectorAll('.arrow').forEach(a => a.classList.remove('visible'));

    showArrowDelayed(targetSection);

    setTimeout(() => {
      isScrolling = false;
    }, 1200);
  }, { passive: false });

// Affiche la flèche de la première section au chargement
window.addEventListener('DOMContentLoaded', () => {
  showArrowDelayed(sections[0]);
});
</script>


</body>
</html>

